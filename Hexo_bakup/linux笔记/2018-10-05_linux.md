+++
title="最小化安装centos7配置问题 "
categories=["linux"] 
tags=["linux"] 
date="2018-10-05 10:34:58+0800"
toc=true
+++

# 最小化安装启用网卡

```sh
	vi /etc/sysconfig/network-scripts/ifcfg-[网卡]

	修改 ONBOOT=yes
	service network restart

```

# ip  命令替代了config, 常见用法

```sh

ip link show                           # 显示网络接口信息

ip link set eth0 upi                   # 开启网卡

ip link set eth0 down                  # 关闭网卡

ip link set eth0 promisc on            # 开启网卡的混合模式

ip link set eth0 promisc offi          # 关闭网卡的混个模式

ip link set eth0 txqueuelen 1200       # 设置网卡队列长度

ip link set eth0 mtu 1400              # 设置网卡最大传输单元

ip addr show                           # 显示网卡IP信息

ip addr add 192.168.0.1/24 dev eth0    # 设置eth0网卡IP地址192.168.0.1

ip addr del 192.168.0.1/24 dev eth0    # 删除eth0网卡IP地址


ip route list                                            # 查看路由信息

ip route add 192.168.4.0/24  via  192.168.0.254 dev eth0 # 设置192.168.4.0网段的网关为192.168.0.254,数据走eth0接口

ip route add default via  192.168.0.254  dev eth0        # 设置默认网关为192.168.0.254
```

#  英文环境的mac远程centos虚拟机乱码

## 原因分析
* mac默认是

```sh
	LANG=en_US.utf-8  // 设置区域语言，比如提示信息，日期等等
	LC_ALL=en_US.utf-8
```

* 远程虚拟机最小化安装
	echo $LANG 

## linux 配置问价加载顺序是

```sh
默认登陆方式，
/etc/enviroment->/etc/profile -->$HOME/.profile   -->$HOME/.env
```

* /etc/profile是登陆后读取的，如果文件显示乱码，可以在/etc/profile中配置

```sh
	vim /etc/profile
	export LC_ALL=zh_CN.utf-8
```

# 如果ssh远程出现如下问题
* "-bash: 警告:setlocale: LC_CTYPE: 无法改变区域选项 (UTF-8): 没有那个文件或目录"

是加载/etc/enviroment文件,找LANG变量

```sh
	vim /etc/environment
	LANG=zh_CN.utf-8
	如果/etc/environment 中没有设置该变量LANG，依然会报错，不能在profile中设置
```

